{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Index"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"SINT#0"}],"Ix":7,"Name":">=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Index"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"SINT#5"}],"Ix":8,"Name":"<=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"ST","Ix":1,"Var":"ENO","X":3},{"__type":"ST","Ix":2,"Var":"Mgr.Machines[Index].Used","X":3,"Y":1}],"CMT":" ______________________________________________________________________________________________________\u000a¦  Machine is used                                                                                                                               ¦\u000a¦______________________________________________________________________________________________________¦\u000a\u000d\u000aIf local machine is used and index correctly selected","LRI":9,"RRI":10,"VLs":[{"Ix":11,"X":3}]}
{"CLs":[{"__type":"LD","Var":"ENO"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"Sys_S.Accumulator_Material_1"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Weight_Old"}],"Ix":3,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"IST","EID":"d27475f5-2f90-458e-ad0d-b97fc83bff9b","H":184,"Ix":4,"TXT":"\/\/ Sum of weight\u000d\u000aWeight_Sum := Sys_S.Accumulator_Material_1 + Sys_S.Accumulator_Material_2 + Sys_S.Accumulator_Material_3 + Sys_S.Accumulator_Material_4 + Sys_S.Accumulator_Material_5;\u000d\u000a\u000d\u000a\/\/ Convert for manager\u000d\u000aMgr.Machines[Index].Material := UDINT_TO_REAL( Weight_Sum ) \/ REAL#1000;\u000d\u000a\u000d\u000a\/\/ Backup\u000d\u000aWeight_Old := Sys_S.Accumulator_Material_1;","W":725,"X":2}],"CMT":"_______________________________________________________________________________________________________\u000a¦  Local value computation                                                                                                                 ¦\u000a¦______________________________________________________________________________________________________¦\u000a\u000d\u000aWeight","LRI":5,"RRI":6,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"ENO"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"Sys_S.Actual_Product_Weight"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"Consumption_Old"}],"Ix":5,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"Mgr.Machines[Index].Consumption_Factor"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"Factor_Old"}],"Ix":6,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1},{"__type":"IST","EID":"16a989be-7ed3-42aa-8115-d2f13bef8315","H":320,"Ix":7,"TXT":"\/\/ Check if value is infinit\u000d\u000aIF Sys_S.Actual_Product_Weight = 9999 THEN\u000d\u000a\u0009\/\/ Put infinit as output\u000d\u000a\u0009Mgr.Machines[Index].Consumption := REAL#3e+38 + REAL#3e+38;\u000d\u000aELSE\u000d\u000a\u0009\/\/ Convert the consumption\u000d\u000a\u0009Consumption_Work := INT_TO_REAL( Sys_S.Actual_Product_Weight ) \/ REAL#100;\u000d\u000a\u000d\u000a\u0009\/\/ Add correction factor\u000d\u000a\u0009Mgr.Machines[Index].Consumption := Consumption_Work * (1 + (Mgr.Machines[Index].Consumption_Factor \/ 100) );\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Backup\u000d\u000aConsumption_Old := Sys_S.Actual_Product_Weight;\u000d\u000aFactor_Old := Mgr.Machines[Index].Consumption_Factor;","W":999.00000000000023,"X":2}],"CMT":"Consumption","LRI":8,"RRI":9,"VLs":[{"Ix":10,"X":1},{"Ix":11,"X":2}]}
{"CLs":[{"__type":"LD","Var":"ENO"},{"__type":"LD","Ix":1,"Not":true,"Var":"Local_ES","X":1},{"__type":"LD","Ix":2,"Var":"Sys_S.Msg.EmergencyStop","X":1,"Y":1},{"__type":"ST","Ix":26,"Var":"Sta.EmergencyStop","X":2},{"__type":"LD","Ix":3,"Var":"P_Off","X":1,"Y":2},{"__type":"ST","Ix":27,"Var":"Sta.FastStop","X":2,"Y":2},{"__type":"ST","Ix":28,"Var":"Sta.Activated","X":1,"Y":3},{"__type":"LD","Ix":4,"Var":"Sys_S.Sta.Selected","X":1,"Y":4},{"__type":"ST","Ix":29,"Var":"Sta.Selected","X":2,"Y":4},{"__type":"LD","Ix":5,"Var":"Sys_S.Sta.Machine_On","X":1,"Y":5},{"__type":"ST","Ix":30,"Var":"Sta.Machine_On","X":2,"Y":5},{"__type":"LD","Ix":6,"Var":"Sys_S.Sta.Machine_Off","X":1,"Y":6},{"__type":"ST","Ix":31,"Var":"Sta.Machine_Off","X":2,"Y":6},{"__type":"LD","Ix":7,"Var":"NetworkFault","X":1,"Y":7},{"__type":"ST","Ix":32,"Var":"Sta.Comm_Hardware_Fault","X":2,"Y":7},{"__type":"LD","Ix":8,"Var":"Sys_S.Msg.Pump_OverLoad","X":1,"Y":8},{"__type":"LD","Ix":9,"Var":"Sys_S.Msg.OpenCircuit","X":1,"Y":9},{"__type":"LD","Ix":10,"Var":"Sys_S.Msg.ShortCircuit","X":1,"Y":10},{"__type":"ST","Ix":33,"Var":"Sta.Machine_Fault","X":2,"Y":8},{"__type":"LD","Ix":11,"Var":"Sys_S.Msg.NoFlow_1","X":1,"Y":11},{"__type":"LD","Ix":12,"Var":"Sys_S.Msg.NoFlow_2","X":1,"Y":12},{"__type":"LD","Ix":13,"Var":"Sys_S.Msg.NoFlow_3","X":1,"Y":13},{"__type":"LD","Ix":14,"Var":"Sys_S.Msg.NoFlow_4","X":1,"Y":14},{"__type":"LD","Ix":15,"Var":"Sys_S.Msg.NoFlow_5","X":1,"Y":15},{"__type":"LD","Ix":16,"Var":"Sys_S.Msg.ScrewCapacity_OutOfRange","X":1,"Y":16},{"__type":"ST","Ix":34,"Var":"Sta.Machine_Warning","X":2,"Y":11},{"__type":"LD","Ix":17,"Var":"P_Off","X":1,"Y":17},{"__type":"ST","Ix":35,"Var":"Sta.AirFault","X":2,"Y":17},{"__type":"LD","Ix":18,"Var":"Sys_S.Msg.HopperEmpty","X":1,"Y":18},{"__type":"LD","Ix":19,"Var":"Sys_S.Msg.BadConveying_1","X":1,"Y":19},{"__type":"LD","Ix":20,"Var":"Sys_S.Msg.BadConveying_2","X":1,"Y":20},{"__type":"LD","Ix":21,"Var":"Sys_S.Msg.BadConveying_3","X":1,"Y":21},{"__type":"LD","Ix":22,"Var":"Sys_S.Msg.BadConveying_4","X":1,"Y":22},{"__type":"LD","Ix":23,"Var":"Sys_S.Msg.BadConveying_5","X":1,"Y":23},{"__type":"ST","Ix":36,"Var":"Sta.Material_Shortage","X":2,"Y":18},{"__type":"LD","Ix":24,"Var":"Sys_S.Sta.Machine_Off","X":1,"Y":24},{"__type":"ST","Ix":37,"Var":"Sta.Maintenance_Requested","X":2,"Y":24},{"__type":"LD","Ix":25,"Var":"T_1s","X":1,"Y":25},{"__type":"ST","Ix":38,"Var":"Sta.Update","X":2,"Y":25},{"__type":"HL","X":2,"Y":3}],"CMT":"_______________________________________________________________________________________________________\u000a¦  Status generation                                                                                                                            ¦\u000a¦______________________________________________________________________________________________________¦\u000a\u000d\u000aIf local machine is used and index correctly selected","LRI":39,"RRI":40,"VLs":[{"Ix":41,"X":2},{"Ix":42,"X":2,"Y":8},{"Ix":42,"X":2,"Y":9},{"Ix":43,"X":2,"Y":11},{"Ix":43,"X":2,"Y":12},{"Ix":43,"X":2,"Y":13},{"Ix":43,"X":2,"Y":14},{"Ix":43,"X":2,"Y":15},{"Ix":44,"X":2,"Y":18},{"Ix":44,"X":2,"Y":19},{"Ix":44,"X":2,"Y":20},{"Ix":44,"X":2,"Y":21},{"Ix":44,"X":2,"Y":22},{"Ix":45,"X":1},{"Ix":45,"X":1,"Y":1},{"Ix":45,"X":1,"Y":2},{"Ix":45,"X":1,"Y":3},{"Ix":45,"X":1,"Y":4},{"Ix":45,"X":1,"Y":5},{"Ix":45,"X":1,"Y":6},{"Ix":45,"X":1,"Y":7},{"Ix":45,"X":1,"Y":8},{"Ix":45,"X":1,"Y":9},{"Ix":45,"X":1,"Y":10},{"Ix":45,"X":1,"Y":11},{"Ix":45,"X":1,"Y":12},{"Ix":45,"X":1,"Y":13},{"Ix":45,"X":1,"Y":14},{"Ix":45,"X":1,"Y":15},{"Ix":45,"X":1,"Y":16},{"Ix":45,"X":1,"Y":17},{"Ix":45,"X":1,"Y":18},{"Ix":45,"X":1,"Y":19},{"Ix":45,"X":1,"Y":20},{"Ix":45,"X":1,"Y":21},{"Ix":45,"X":1,"Y":22},{"Ix":45,"X":1,"Y":23},{"Ix":45,"X":1,"Y":24}]}
