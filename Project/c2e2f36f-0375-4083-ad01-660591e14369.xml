{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"IST","EID":"fb374094-ebd5-4a2c-9f2a-7b89d3197e8b","H":430,"Ix":1,"TXT":"\/\/ Reset alarm\u000d\u000aAlarmsCounter := 0;\u000d\u000a\u000d\u000a\/\/ Compute referance position\u000d\u000aPosRef := MyProd.Position - Position;\u000d\u000a\u000d\u000a\/\/ For every element, check if alarms is running\u000d\u000aFor i := 0 To MyProd.Last_Alarm DO\u000d\u000a\u0009\u000d\u000a\u0009\/\/ Only check enabled alarm\u000d\u000a\u0009IF MyProd.Alarms[i].Enabled THEN\u000d\u000a\u0009\u0009\u000d\u000a\u0009\u0009\/\/ Check if position is in the alarm\u000d\u000a\u0009\u0009IF PosRef >= MyProd.Alarms[i].PosStart AND (PosRef <= MyProd.Alarms[i].PosStop or MyProd.Alarms[i].State) THEN\u000d\u000a\u0009\u0009\u0009\u000d\u000a\u0009\u0009\u0009\/\/ Check if alarm must be detected\u000d\u000a\u0009\u0009\u0009IF MyProd.Alarms[i].Id = Detection_1 OR MyProd.Alarms[i].Id = Detection_2 OR MyProd.Alarms[i].Id = Detection_3 THEN\u000d\u000a\u0009\u0009\u0009\u0009Inc(AlarmsCounter);\u000d\u000a\u0009\u0009\u0009END_IF;\u000d\u000a\u0009\u0009END_IF;\u000d\u000a\u0009END_IF;\u000d\u000a\u0009\u000d\u000aEND_FOR;\u000d\u000a","W":1071,"X":1}],"CMT":"Indicate when the default is on the coil","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"AlarmsCounter"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"USINT#0"}],"Ix":4,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"ST","Ix":1,"Var":"AsDefault","X":2}],"LRI":5,"RRI":6,"VLs":[]}
