{"CLs":[{"__type":"LD","Var":"P_First_Run"},{"__type":"IST","EID":"e29f1766-51c8-4ccc-8da7-8d617f2f9b85","H":218.99999999999989,"Ix":1,"TXT":"\/\/ Get axis parameter\u000d\u000aMyTS.Cfg.Modulo := LREAL_TO_REAL(Axis.Scale.MaxPos);\u000d\u000aWrapCheck := MyTS.Cfg.Modulo - LREAL_TO_REAL(Tol_Wrap);\u000d\u000a\u000d\u000a\/\/ Get Cycle\u000d\u000aMyTS.Cfg.Cycle := TimeToNanoSec(GetMyTaskInterval());\u000d\u000aMyTS.Cfg.Cycle := MyTS.Cfg.Cycle + MyTS.Cfg.Cycle;\u000d\u000a\u000d\u000a\/\/ Array\u000d\u000aMyTS.Cfg.Size := SizeOfAry(MyTS.Switchs);","W":756,"X":1}],"CMT":"Set configuration of object","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","EC":"Backup","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyTS.Act.Pos"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"WrapCheck"}],"Ix":6,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","EC":"Act","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Axis.Act.Pos"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Tol_Wrap"}],"Ix":7,"Name":"<","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"ST","Ix":1,"Var":"MyTS.Wrap","X":3}],"CMT":"Check for wrap around - Used for compensation","LRI":8,"RRI":9,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"IST","EID":"c477227e-410a-434e-bd91-3b6d50cbff66","H":242.00000000000017,"Ix":1,"TXT":"\/\/ Read current axis value\u000d\u000aMyTS.Act.Pos := LREAL_TO_REAL(Axis.Act.Pos);\u000d\u000aMyTS.Act.Vel := LREAL_TO_REAL(Axis.Act.Vel);\u000d\u000aMyTS.Act.TS_In := TS_Input;\u000d\u000aMyTS.Act.TS_Out := TS_Output;\u000d\u000a\u000d\u000a\/\/ Speed average ?\u000d\u000a\/\/.....\u000d\u000a\u000d\u000a\/\/ TS minimum to give order. It's the last TS output time + 2 cycles\u000d\u000aMyTS.TSmin := TS_Output + MyTS.Cfg.Cycle;","W":708,"X":1}],"CMT":"Get axis value","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"VelMin"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"-1.0"}],"Ix":9,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":7,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyTS.Act.Vel"},{"__type":"PRM","Arg":"In2","Ix":8,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"VelMin"}],"Ix":12,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"PL":true},{"__type":"ST","Ix":1,"Var":"MyTS.Enable","X":2},{"__type":"ST","Ix":2,"Var":"ENO","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"In"}],"Ix":10,"Name":"Down","Out":[{"__type":"PF","Arg":""}],"X":2,"Y":2,"Id":"6b5c67ef-f500-481f-8c65-5cca00000021"},{"__type":"F","EC":"Clean table if timestamp is disabled","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"UINT#0"}],"Ix":11,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"MyTS.Num"}],"X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"Status","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":2},{"Ix":15,"X":2,"Y":1},{"Ix":16,"X":1}]}
