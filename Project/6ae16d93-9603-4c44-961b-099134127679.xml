{"CLs":[{"__type":"LD","Var":"P_First_Run"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"DayBackup"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#0"}],"Ix":12,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"MonthBackup"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#0"}],"Ix":13,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"DATE_AND_TIME","Var":"_CurrentTime"}],"Ix":16,"Name":"DtToDateStruct","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"DateStruct","Ix":11,"Type":"_sDT","Var":"DateStruc"}],"X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"DateStruc.Day"}],"Ix":14,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"DayBackup"}],"X":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"DateStruc.Month"}],"Ix":15,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"MonthBackup"}],"X":4,"Y":1}],"CMT":"First cycle - Init ","LRI":17,"RRI":18,"VLs":[{"Ix":19,"X":4}]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"IST","EID":"d197b57d-7f1a-4ce4-bc41-4c25b61ebf7a","H":494.99999999999994,"Ix":1,"TXT":"\/\/ Convert date in structure\u000d\u000aDtToDateStruct(_CurrentTime, DateStruc);\u000d\u000a\u000d\u000a\/\/ Check if day changer\u000d\u000aIF DateStruc.Day <> DayBackup THEN\u000d\u000a\u0009Datas.Yesterday := Datas.Today;\u000d\u000a\u0009\u000d\u000a\u0009\/\/ Reset value\u000d\u000a\u0009Datas.Today.NG := ULINT#0;\u000d\u000a\u0009Datas.Today.OK := ULINT#0;\u000d\u000a\u0009Datas.Today.Percent := REAL#0;\u000d\u000a\u0009Datas.Today.Sum := ULINT#0;\u000d\u000a\u0009\u000d\u000a\u0009DayBackup := DateStruc.Day;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Check if month changer\u000d\u000aIF DateStruc.Month <> MonthBackup THEN\u000d\u000a\u0009Datas.Month_Last := Datas.Month_Current;\u000d\u000a\u0009\u000d\u000a\u0009\/\/ Reset value\u000d\u000a\u0009Datas.Month_Current.NG := ULINT#0;\u000d\u000a\u0009Datas.Month_Current.OK := ULINT#0;\u000d\u000a\u0009Datas.Month_Current.Percent := REAL#0;\u000d\u000a\u0009Datas.Month_Current.Sum := ULINT#0;\u000d\u000a\u0009\u000d\u000a\u0009MonthBackup := DateStruc.Month;\u000d\u000aEND_IF;\u0009","W":707,"X":1}],"CMT":"Check change day","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"NewProd"},{"__type":"IST","EID":"eb3dbc69-6c61-4fac-911b-31a058832522","H":435.00000000000011,"Ix":1,"TXT":"\/\/ Add prod datas\u000d\u000aIF IsNG THEN\u000d\u000a\u0009Inc(Datas.Today.NG);\u000d\u000a\u0009Inc(Datas.Month_Current.NG);\u000d\u000a\u0009Inc(Datas.Users.NG);\u000d\u000a\u0009Inc(Datas.Overall.NG);\u000d\u000aELSE\u000d\u000a\u0009Inc(Datas.Today.OK);\u000d\u000a\u0009Inc(Datas.Month_Current.OK);\u000d\u000a\u0009Inc(Datas.Users.OK);\u000d\u000a\u0009Inc(Datas.Overall.OK);\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Inc the sum of prod\u000d\u000aInc(Datas.Today.Sum);\u000d\u000aInc(Datas.Month_Current.Sum);\u000d\u000aInc(Datas.Users.Sum);\u000d\u000aInc(Datas.Overall.Sum);\u000d\u000a\u0009\u000d\u000a\/\/ Calculate percent\u000d\u000aDatas.Today.Percent := ULINT_TO_REAL(Datas.Today.OK) \/ ULINT_TO_REAL(Datas.Today.Sum) * 100;\u000d\u000aDatas.Month_Current.Percent := ULINT_TO_REAL(Datas.Month_Current.OK) \/ ULINT_TO_REAL(Datas.Month_Current.Sum) * 100;\u000d\u000aDatas.Users.Percent := ULINT_TO_REAL(Datas.Users.OK) \/ ULINT_TO_REAL(Datas.Users.Sum) * 100;\u000d\u000aDatas.Overall.Percent := ULINT_TO_REAL(Datas.Overall.OK) \/ ULINT_TO_REAL(Datas.Overall.Sum) * 100;\u000d\u000a","W":798.99999999999989,"X":1}],"CMT":"Increment day datas","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Datas.ResetUser"},{"__type":"IST","EID":"1d03bda1-b259-4c60-a1f7-ad7168f5aa7b","H":135,"Ix":1,"TXT":"\/\/ Reset value\u000d\u000aDatas.Users.NG\u0009\u0009\u0009:= ULINT#0;\u000d\u000aDatas.Users.OK \u0009\u0009\u0009:= ULINT#0;\u000d\u000aDatas.Users.Percent\u0009\u0009:= REAL#0;\u000d\u000aDatas.Users.Sum \u0009\u0009\u0009:= ULINT#0;","W":564.99999999999989,"X":1}],"CMT":"Reset user","LRI":2,"RRI":3,"VLs":[]}
