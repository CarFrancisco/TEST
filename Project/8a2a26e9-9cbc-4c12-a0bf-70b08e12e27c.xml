{"CLs":[{"__type":"LD","Not":true,"Var":"ENO"},{"__type":"JMP","Ix":1,"Label":"EndFB","X":1}],"LRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"ST","Ix":1,"Var":"MyMaint.TypeUse.UsageCycle","X":1},{"__type":"ST","Ix":2,"Var":"MyMaint.Sta.Used","X":1,"Y":1}],"CMT":"Config\u000d\u000a\u000d\u000aUsage - production cycles maintenance","LRI":3,"RRI":4,"VLs":[{"Ix":5,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":8,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":9,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"0"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"maint_step"}],"X":3}],"LRI":10,"RRI":11,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"-1"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"maint_step"}],"X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"MyMaint.Sta.Warning","X":1,"Y":1},{"__type":"ST","Ix":3,"RS":true,"Var":"MyMaint.Sta.OnDuty","X":2,"Y":1},{"__type":"ST","Ix":2,"RS":true,"Var":"MyMaint.Sta.Idle","X":3,"Y":1},{"__type":"HL","X":2},{"__type":"HL","X":3}],"LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1}]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Cycle_Trigger"},{"__type":"FB","In":[{"__type":"PF","Arg":"Clk"}],"Ix":11,"Name":"R_TRIG","Out":[{"__type":"PF","Arg":"Q"}],"X":1,"Var":"Counter_trig"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":2,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_total"}],"Ix":12,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":3,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_total"},{"__type":"PRM","Arg":"","Ix":4,"Type":"BOOL","Var":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":8,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_done"}],"Ix":14,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":9,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_done"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""}],"X":2,"Y":1},{"__type":"LD","Var":"MyMaint.Sta.Warning","X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":5,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_warning"}],"Ix":13,"Name":"Inc","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":6,"Type":"ANY_INT","Var":"MyMaint.Info.Cycles_warning"},{"__type":"PRM","Arg":"","Ix":7,"Type":"BOOL","Var":""}],"X":3,"Y":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"Counting","LRI":15,"RRI":16,"VLs":[{"Ix":17,"X":2},{"Ix":17,"X":2,"Y":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.Idle","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"0"}],"Ix":14,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"MyMaint.Info.Cycles_warning"}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"ANY","Var":"Cycles_Number"}],"Ix":15,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":10,"Type":"ANY","Var":"MyMaint.Info.Cycles_input"}],"X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Cycles_Number"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"0"}],"Ix":12,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"10"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":3},{"__type":"HL","X":2},{"__type":"HL","X":2,"Y":1},{"__type":"HL","X":2,"Y":2}],"CMT":"Idle state\u000d\u000a\u000d\u000aTransition to OnDuty","LRI":16,"RRI":17,"VLs":[{"Ix":18,"X":1},{"Ix":18,"X":1,"Y":1},{"Ix":18,"X":1,"Y":2}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":14,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.OnDuty","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":12,"Type":"ANY","Var":"T#0s"}],"Ix":19,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":13,"Type":"ANY","Var":"MyMaint.Info.Time_warning"}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyMaint.Info.Cycles_done"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"Cycles_Number"}],"Ix":15,"Name":">=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":9,"Type":"ANY_NUM, STRING","Var":"MyMaint.Info.Counter_warning"},{"__type":"PRM","Arg":"In2","Ix":10,"Type":"ANY_NUM, STRING","Var":"1"}],"Ix":18,"Name":"ADD","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":11,"Type":"ANY_NUM, STRING","Var":"MyMaint.Info.Counter_warning"}],"X":2,"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"_CurrentTime"}],"Ix":17,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"Date_Warning"}],"X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"20"}],"Ix":16,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":4},{"__type":"HL","X":2},{"__type":"HL","X":2,"Y":1}],"CMT":"On duty state","LRI":20,"RRI":21,"VLs":[{"Ix":22,"X":1},{"Ix":22,"X":1,"Y":1},{"Ix":23,"X":2,"Y":2},{"Ix":23,"X":2,"Y":3}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":7,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.Warning","X":1},{"__type":"ST","Ix":1,"Var":"MyMaint.Needed","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"DATE_AND_TIME","Var":"_CurrentTime"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"DATE_AND_TIME","Var":"Date_Warning"}],"Ix":8,"Name":"SUB_DT_DT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":6,"Type":"TIME","Var":"MyMaint.Info.Time_warning"}],"X":1,"Y":2},{"__type":"IST","EID":"72bb1505-1e88-4d17-bf59-4956c3ac74b5","H":137.40000000000003,"Ix":9,"TXT":"\/\/IF MyMaint.Info.Cycles_warning = MyMaint.Info.Cycles_input THEN\u000d\u000a\/\/\u0009MyMaint.Info.Cycles_warning := 0;\u000d\u000a\/\/\u0009Missed_maintenace := Missed_maintenace + 1;\u000d\u000a\/\/END_IF;\u000d\u000aMissed_maintenace := MyMaint.Info.Cycles_warning;","W":672,"X":1,"Y":3}],"CMT":"Warning state","LRI":10,"RRI":11,"VLs":[{"Ix":12,"X":1},{"Ix":12,"X":1,"Y":1},{"Ix":12,"X":1,"Y":2}]}
{"CLs":[{"__type":"LD","Var":"MyMaint.Cmd.Done"},{"__type":"LD","Ix":1,"Not":true,"Var":"MyMaint.Sta.Idle","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Clk"}],"Ix":12,"Name":"R_TRIG","Out":[{"__type":"PF","Arg":"Q"}],"X":2,"Var":"Warning_trig"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"_CurrentTime"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"Date_Done"}],"X":3},{"__type":"IST","EID":"2cbe69e8-9cbf-47d8-b302-2052c962652b","H":449.99999999999977,"Ix":17,"TXT":"FOR i:=3 TO 1 BY -1 DO\u000d\u000a\u0009\u0009\u000d\u000a\u0009MyMaint.History[i].Date_Request := MyMaint.History[i-1].Date_Request;\u0009\u000d\u000a\u0009MyMaint.History[i].Date_Done := MyMaint.History[i-1].Date_Done;\u000d\u000a\u0009MyMaint.History[i].N_Missed := MyMaint.History[i-1].N_Missed;\u000d\u000a\u0009\u000d\u000aEND_FOR;\u000d\u000a\u000d\u000aIF MyMaint.Sta.Warning THEN\u000d\u000a\u0009MyMaint.History[0].Date_Request := Date_Warning;\u000d\u000a\u0009MyMaint.History[0].N_Missed := MyMaint.Info.Cycles_warning;\u000d\u000aELSE\u000d\u000a\u0009MyMaint.History[0].N_Missed := 0;\u000d\u000aEND_IF;\u0009\u0009\u0009\u000d\u000a\u0009MyMaint.History[0].Date_Done := Date_Done;\u000d\u000a\u000d\u000a\/\/Missed_maintenace := 0;","W":777,"X":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"0"}],"Ix":15,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"MyMaint.Info.Cycles_done"}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":10,"Type":"ANY","Var":"0"}],"Ix":16,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":11,"Type":"ANY","Var":"MyMaint.Info.Cycles_warning"}],"X":1,"Y":2},{"__type":"LD","Ix":2,"Var":"MyMaint.Sta.Warning","X":1,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"10"}],"Ix":14,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":3},{"__type":"ST","Ix":3,"RS":true,"Var":"MyMaint.Cmd.Done","X":1,"Y":4},{"__type":"HL","X":2,"Y":1},{"__type":"HL","X":3,"Y":1},{"__type":"HL","X":4,"Y":1},{"__type":"HL","X":2,"Y":2},{"__type":"HL","X":3,"Y":2},{"__type":"HL","X":4,"Y":2},{"__type":"HL","X":3,"Y":3},{"__type":"HL","X":4,"Y":3},{"__type":"HL","X":2,"Y":4},{"__type":"HL","X":3,"Y":4},{"__type":"HL","X":4,"Y":4}],"CMT":"Confirmation. Keeping to history\u000d\u000a\u000d\u000ain Warning state -> Idle","LRI":18,"RRI":19,"VLs":[{"Ix":20,"X":1},{"Ix":20,"X":1,"Y":1},{"Ix":20,"X":1,"Y":2},{"Ix":20,"X":1,"Y":3}]}
{"CLs":[{"__type":"LD","Var":"MyMaint.Cmd.ResetCounter"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"0"}],"Ix":4,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"MyMaint.Info.Counter_warning"}],"X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"MyMaint.Cmd.ResetCounter","X":1,"Y":1}],"CMT":"Counter reset","LRI":5,"RRI":6,"VLs":[{"Ix":7,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Dwn":true,"Id":"dd5c0591-42a7-4338-b422-c19f00000093","Ix":1,"Var":"Enabled","Y":1},{"__type":"ST","Ix":2,"Var":"ENO","X":1}],"CMT":"End of FB","LI":3,"LRI":4,"Label":"EndFB","RRI":5,"VLs":[{"Ix":6,"X":1}]}
