{"CLs":[{"__type":"LD","Not":true,"Var":"ENO"},{"__type":"JMP","Ix":1,"Label":"EndFB","X":1}],"CMT":"Config","LRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"ST","Ix":2,"Var":"MyLaser.Status.Enabled","X":1},{"__type":"ST","Ix":4,"Var":"MyLaser.Cfg.Trumpf_Used","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":13,"Type":"INT","Var":"L_Power_Max"}],"Ix":19,"Name":"INT_TO_REAL","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":14,"Type":"REAL","Var":"MyLaser.Cfg.Power_Max"}],"X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyLaser.Corr.SP_a"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":15,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"ANY","Var":"+1"}],"Ix":16,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":10,"Type":"ANY","Var":"MyLaser.Corr.SP_a"}],"X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":7,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyLaser.Corr.FB_a"},{"__type":"PRM","Arg":"In2","Ix":8,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":17,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":4,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":11,"Type":"ANY","Var":"+1"}],"Ix":18,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":12,"Type":"ANY","Var":"MyLaser.Corr.FB_a"}],"X":2,"Y":4},{"__type":"LD","Ix":1,"Var":"Commissioning","X":1,"Y":5},{"__type":"ST","Ix":3,"Var":"MyLaser.Status.Commissioning","X":2,"Y":5},{"__type":"HL","X":2},{"__type":"HL","X":2,"Y":1},{"__type":"HL","X":2,"Y":2}],"CMT":"Config","LRI":20,"RRI":21,"VLs":[{"Ix":22,"X":1},{"Ix":22,"X":1,"Y":1},{"Ix":22,"X":1,"Y":2},{"Ix":22,"X":1,"Y":3},{"Ix":22,"X":1,"Y":4}]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":16,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":17,"Type":"USINT","Var":"15"}],"Ix":26,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"ST","Ix":5,"Var":"L_ExtActivated","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":10,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":11,"Type":"USINT","Var":"14"}],"Ix":23,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1},{"__type":"ST","Ix":2,"Var":"L_IsOn","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":12,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":13,"Type":"USINT","Var":"13"}],"Ix":24,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":2},{"__type":"ST","Ix":3,"Var":"L_Ready","X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":14,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":15,"Type":"USINT","Var":"12"}],"Ix":25,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":3},{"__type":"ST","Ix":4,"Var":"L_ProgActive","X":2,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":18,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":19,"Type":"USINT","Var":"6"}],"Ix":27,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":4},{"__type":"ST","Ix":6,"Var":"L_SIK","X":2,"Y":4},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":20,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":21,"Type":"USINT","Var":"4"}],"Ix":28,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":5},{"__type":"ST","Ix":7,"Var":"L_Fault","X":2,"Y":5},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY_BIT(except BOOL)","Var":"L_Status_Device"},{"__type":"PRM","Arg":"Pos","Ix":9,"Type":"USINT","Var":"3"}],"Ix":22,"Name":"TestABit","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":6},{"__type":"ST","Ix":1,"Var":"L_Assigned","X":2,"Y":6}],"CMT":"Read the bits from the status word","LRI":29,"RRI":30,"VLs":[{"Ix":31,"X":1},{"Ix":31,"X":1,"Y":1},{"Ix":31,"X":1,"Y":2},{"Ix":31,"X":1,"Y":3},{"Ix":31,"X":1,"Y":4},{"Ix":31,"X":1,"Y":5}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Ix":2,"Not":true,"Var":"Manual","X":1},{"__type":"ST","Ix":4,"Var":"L_RequestLaser","X":2},{"__type":"ST","Ix":7,"Var":"L_ExternalControl","X":3},{"__type":"LD","Ix":3,"Var":"L_Assigned","X":2,"Y":1},{"__type":"ST","Ix":8,"Var":"L_LaserOn","X":3,"Y":1},{"__type":"ST","Ix":5,"Var":"L_Standby","X":3,"Y":2},{"__type":"LD","Ix":1,"Var":"Pilot","X":3,"Y":3},{"__type":"ST","Ix":6,"Var":"L_PilotOn","X":4,"Y":3},{"__type":"HL","X":4},{"__type":"HL","X":4,"Y":1},{"__type":"HL","X":4,"Y":2}],"CMT":"External control","LRI":9,"RRI":10,"VLs":[{"Ix":11,"X":3,"Y":1},{"Ix":11,"X":3,"Y":2},{"Ix":12,"X":2}]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"Enabled"},{"__type":"LD","Ix":3,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"L_PilotOn","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"0"}],"Ix":10,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"L_ProgramNumber"}],"X":3},{"__type":"LD","Ix":1,"Not":true,"Var":"L_PilotOn","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":8,"Type":"ANY","Var":"2"}],"Ix":12,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":9,"Type":"ANY","Var":"L_ProgramNumber"}],"X":3,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"0"}],"Ix":11,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"L_LightPath"}],"X":2,"Y":2},{"__type":"HL","X":3,"Y":2}],"CMT":"Turn on the Laser et selecte the program\u000d\u000aAllways 1 : for Analog command and continuous beam","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":2},{"Ix":15,"X":2,"Y":1}]}
{"CLs":[{"__type":"LD","Ix":6,"Var":"Enabled"},{"__type":"LD","Ix":7,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"L_IsOn","X":2},{"__type":"ST","Ix":9,"Var":"MyLaser.Status.Powered","X":3},{"__type":"LD","Ix":3,"Not":true,"Var":"L_SIK","X":3,"Y":1},{"__type":"LD","Ix":4,"Not":true,"Var":"L_Fault","X":4,"Y":1},{"__type":"LD","Ix":1,"Var":"L_Ready","X":5,"Y":1},{"__type":"LD","Ix":5,"Not":true,"Var":"L_PilotOn","X":6,"Y":1},{"__type":"ST","Ix":10,"Var":"MyLaser.Status.Ready","X":7,"Y":1},{"__type":"LD","Ix":2,"Var":"L_Pulse","X":3,"Y":2},{"__type":"LD","Ix":8,"Var":"L_ProgActive","X":3,"Y":3},{"__type":"ST","Ix":11,"Var":"MyLaser.Status.Shooting","X":4,"Y":2},{"__type":"HL","X":4},{"__type":"HL","X":5},{"__type":"HL","X":6},{"__type":"HL","X":7},{"__type":"HL","X":5,"Y":2},{"__type":"HL","X":6,"Y":2},{"__type":"HL","X":7,"Y":2}],"CMT":"Check if the Laser is Powered and Ready","LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":3},{"Ix":14,"X":3,"Y":1},{"Ix":14,"X":3,"Y":2},{"Ix":15,"X":4,"Y":2}]}
{"CLs":[{"__type":"LD","Ix":3,"Var":"Enabled"},{"__type":"LD","Ix":4,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"L_Fault","X":2},{"__type":"ST","Ix":5,"Var":"MyLaser.Alarms.Fault","X":3},{"__type":"LD","Ix":2,"Var":"MyLaser.Cmd.Shoot","X":2,"Y":1},{"__type":"LD","Ix":1,"Var":"L_SIK","X":3,"Y":1},{"__type":"ST","Ix":6,"Var":"MyLaser.Alarms.SIK","X":4,"Y":1},{"__type":"HL","X":4}],"CMT":"Status","LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":2}]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Enabled"},{"__type":"LD","Ix":2,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"MyLaser.Status.Powered","X":2},{"__type":"IST","EID":"247268ed-60dc-4c61-a97b-4f6fdb4248a2","H":261,"Ix":3,"TXT":"\/\/ Correction of command\u000d\u000aPower_SP_WithLimit := LIMIT(REAL#0,  MyLaser.Cmd.Power, MyLaser.Cfg.Power_Max);\u000d\u000a\u000d\u000a\/\/ Coor\u000d\u000aPower_WithCorr := Power_SP_WithLimit * MyLaser.Corr.SP_a + MyLaser.Corr.SP_b;\u000d\u000a\u000d\u000a\/\/ Power command for the laser. (The anal. input works with 0-10VDC = 0-100% of command)\u000d\u000aPower_Temp:=REAL_TO_INT( Power_WithCorr) ;\u000d\u000a\u000d\u000a\/\/Limitations of Power\u000d\u000aL_Power_SP:=LIMIT(INT#0,Power_Temp,UINT_TO_INT(L_Power_Max));","W":942.99999999999989,"X":3}],"CMT":"Calculation of the power","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Enabled"},{"__type":"LD","Ix":2,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"MyLaser.Status.Powered","X":2},{"__type":"IST","EID":"120aaeec-2a9b-4b63-ae3b-3397cf0b4edc","H":121.99999999999997,"Ix":3,"TXT":"\/\/ Power command for the laser. (The anal. input works with 0-10VDC = 0-100% of command)\u000d\u000aPower_FB := INT_TO_REAL(L_Power_FB) ;\u000d\u000a\u000d\u000a\/\/ Coor\u000d\u000aMyLaser.Power := Power_FB * MyLaser.Corr.FB_a + MyLaser.Corr.FB_b;","W":825,"X":3}],"CMT":"Calculation of the power","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":5,"Var":"Enabled"},{"__type":"LD","Ix":6,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"MyLaser.Status.Ready","X":2},{"__type":"LD","Ix":4,"Var":"L_ProgStart","X":2,"Y":1},{"__type":"LD","Ix":1,"Var":"MyLaser.Cmd.Shoot","X":3},{"__type":"LD","Id":"a631b6c3-c007-42b9-9b60-65c70000008b","Ix":3,"Up":true,"Var":"MyLaser.Cmd.OnePulse","X":3,"Y":1},{"__type":"ST","Ix":7,"Var":"L_ProgStart","X":4},{"__type":"LD","Ix":2,"Var":"MyLaser.Cmd.Pointer","X":2,"Y":2},{"__type":"ST","Ix":8,"Var":"Tmp","X":3,"Y":2},{"__type":"HL","X":4,"Y":2}],"CMT":"command to shoot with the laser","LRI":9,"RRI":10,"VLs":[{"Ix":11,"X":2},{"Ix":11,"X":2,"Y":1},{"Ix":12,"X":3},{"Ix":13,"X":4}]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Enabled"},{"__type":"LD","Ix":2,"Var":"L_Assigned","X":1},{"__type":"LD","Var":"MyLaser.Cmd.Reset","X":2},{"__type":"ST","Ix":3,"Var":"L_Reset","X":3}],"CMT":"Command to reset the laser","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":1,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":2,"Type":"USINT","Var":"0"},{"__type":"PRM","Arg":"BitVal","Ix":3,"Type":"BOOL","Var":"L_RequestLaser"}],"Ix":41,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":4,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":5,"Type":"BOOL","Var":""}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":6,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":7,"Type":"USINT","Var":"1"},{"__type":"PRM","Arg":"BitVal","Ix":8,"Type":"BOOL","Var":"L_PilotOn"}],"Ix":42,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":9,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":10,"Type":"BOOL","Var":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":11,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":12,"Type":"USINT","Var":"8"},{"__type":"PRM","Arg":"BitVal","Ix":13,"Type":"BOOL","Var":"L_Reset"}],"Ix":43,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":14,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":15,"Type":"BOOL","Var":""}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":16,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":17,"Type":"USINT","Var":"11"},{"__type":"PRM","Arg":"BitVal","Ix":18,"Type":"BOOL","Var":"L_ProgStart"}],"Ix":44,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":19,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":20,"Type":"BOOL","Var":""}],"X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":26,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":27,"Type":"USINT","Var":"12"},{"__type":"PRM","Arg":"BitVal","Ix":28,"Type":"BOOL","Var":"L_Standby"}],"Ix":46,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":29,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":30,"Type":"BOOL","Var":""}],"X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":21,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":22,"Type":"USINT","Var":"13"},{"__type":"PRM","Arg":"BitVal","Ix":23,"Type":"BOOL","Var":"L_LaserOn"}],"Ix":45,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":24,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":25,"Type":"BOOL","Var":""}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":31,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":32,"Type":"USINT","Var":"14"},{"__type":"PRM","Arg":"BitVal","Ix":33,"Type":"BOOL","Var":"L_PanelLock"}],"Ix":47,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":34,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":35,"Type":"BOOL","Var":""}],"X":1,"Y":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":36,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"Pos","Ix":37,"Type":"USINT","Var":"15"},{"__type":"PRM","Arg":"BitVal","Ix":38,"Type":"BOOL","Var":"L_ExternalControl"}],"Ix":48,"Name":"OutABit","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"InOut","IO":true,"Ix":39,"Type":"ANY_BIT(except BOOL)","Var":"L_Basic_Functions"},{"__type":"PRM","Arg":"","Ix":40,"Type":"BOOL","Var":""}],"X":2,"Y":3}],"CMT":"Output the bits to the laser control word","LRI":49,"RRI":50,"VLs":[{"Ix":51,"X":1},{"Ix":51,"X":1,"Y":1},{"Ix":51,"X":1,"Y":2}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Dwn":true,"Id":"a631b6c3-c007-42b9-9b60-65c7000000d4","Ix":1,"Var":"Enabled","Y":1},{"__type":"ST","Ix":2,"Var":"ENO","X":1}],"CMT":"EndFB","LI":3,"LRI":4,"Label":"EndFB","RRI":5,"VLs":[{"Ix":6,"X":1}]}
