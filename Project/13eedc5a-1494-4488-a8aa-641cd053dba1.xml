{"CLs":[{"__type":"LD","Not":true,"Var":"ENO"},{"__type":"JMP","Ix":1,"Label":"EndFB","X":1}],"LRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"ST","Ix":1,"Var":"MyMaint.TypeUse.ScheduleDate","X":1},{"__type":"ST","Ix":2,"Var":"MyMaint.Sta.Used","X":1,"Y":1}],"CMT":"Config\u000d\u000a\u000d\u000aUsage - time scheduled maintenance","LRI":3,"RRI":4,"VLs":[{"Ix":5,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":8,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":6,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":9,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"0"}],"Ix":7,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"maint_step"}],"X":3}],"LRI":10,"RRI":11,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"Enabled"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"-1"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"maint_step"}],"X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"MyMaint.Sta.Warning","X":1,"Y":1},{"__type":"ST","Ix":3,"RS":true,"Var":"MyMaint.Sta.OnDuty","X":2,"Y":1},{"__type":"ST","Ix":2,"RS":true,"Var":"MyMaint.Sta.Idle","X":3,"Y":1},{"__type":"HL","X":2},{"__type":"HL","X":3}],"LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"MyMaint.Info.Date_Next_Maint"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"DT#1970-1-1-0:0:0"}],"Ix":4,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"0"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"maint_step"}],"X":1}],"CMT":"At startup. Idle","LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":12,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.Idle","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":7,"Type":"ANY","Var":"T#0s"}],"Ix":14,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":8,"Type":"ANY","Var":"MyMaint.Info.Time_left"}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":9,"Type":"ANY","Var":"T#0s"}],"Ix":15,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":10,"Type":"ANY","Var":"MyMaint.Info.Time_warning"}],"X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyMaint.Info.Date_Next_Maint"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"_CurrentTime"}],"Ix":11,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"10"}],"Ix":13,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":3},{"__type":"HL","X":2},{"__type":"HL","X":2,"Y":1},{"__type":"HL","X":2,"Y":2}],"CMT":"Idle state - no warning, no counting","LRI":16,"RRI":17,"VLs":[{"Ix":18,"X":1},{"Ix":18,"X":1,"Y":1},{"Ix":18,"X":1,"Y":2}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":11,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":12,"Type":"ANY_ELEMENTARY, ENUM","Var":"10"}],"Ix":19,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.OnDuty","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"DATE_AND_TIME","Var":"MyMaint.Info.Date_Next_Maint"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"DATE_AND_TIME","Var":"_CurrentTime"}],"Ix":15,"Name":"SUB_DT_DT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":3,"Type":"TIME","Var":"MyMaint.Info.Time_left"}],"X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"_CurrentTime"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyMaint.Info.Date_Next_Maint"}],"Ix":16,"Name":">=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"_CurrentTime"}],"Ix":17,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"Date_Warning"}],"X":2,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"ANY_NUM, STRING","Var":"MyMaint.Info.Counter_warning"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"ANY_NUM, STRING","Var":"1"}],"Ix":18,"Name":"ADD","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":10,"Type":"ANY_NUM, STRING","Var":"MyMaint.Info.Counter_warning"}],"X":2,"Y":3,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":13,"Type":"ANY","Var":"20"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":14,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":4},{"__type":"HL","X":2},{"__type":"HL","X":2,"Y":1}],"CMT":"On duty - operational state. Waiting for a warning","LRI":21,"RRI":22,"VLs":[{"Ix":23,"X":1},{"Ix":23,"X":1,"Y":1},{"Ix":24,"X":2,"Y":2},{"Ix":24,"X":2,"Y":3}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":7,"Type":"ANY_ELEMENTARY, ENUM","Var":"maint_step"},{"__type":"PRM","Arg":"In2","Ix":8,"Type":"ANY_ELEMENTARY, ENUM","Var":"20"}],"Ix":11,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"ST","Var":"MyMaint.Sta.Warning","X":1},{"__type":"ST","Ix":1,"Var":"MyMaint.Needed","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"DATE_AND_TIME","Var":"_CurrentTime"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"DATE_AND_TIME","Var":"Date_Warning"}],"Ix":10,"Name":"SUB_DT_DT","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"","Ix":6,"Type":"TIME","Var":"MyMaint.Info.Time_warning"}],"X":1,"Y":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"T#0s"}],"Ix":9,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"MyMaint.Info.Time_left"}],"X":1,"Y":3}],"CMT":"Warning","LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":1},{"Ix":14,"X":1,"Y":1},{"Ix":14,"X":1,"Y":2}]}
{"CLs":[{"__type":"LD","Var":"MyMaint.Cmd.Done"},{"__type":"LD","Ix":2,"Not":true,"Var":"MyMaint.Sta.Idle","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Clk"}],"Ix":8,"Name":"R_TRIG","Out":[{"__type":"PF","Arg":"Q"}],"X":2,"Var":"Warning_trig"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"_CurrentTime"}],"Ix":9,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"Date_Done"}],"X":3},{"__type":"IST","EID":"8f3ecd30-fa4c-471c-a29a-6a912a9f3b6f","H":341.99999999999994,"Ix":11,"TXT":"FOR i:=3 TO 1 BY -1 DO\u000d\u000a\u000d\u000a\u0009MyMaint.History[i].Date_Request := MyMaint.History[i-1].Date_Request;\u000d\u000a\u0009MyMaint.History[i].Date_Done := MyMaint.History[i-1].Date_Done;\u000d\u000a\u0009MyMaint.History[i].t_Missed := MyMaint.History[i-1].t_Missed;\u000d\u000a\u000d\u000aEND_FOR;\u000d\u000a\u0009\u000d\u000aIF MyMaint.Sta.Warning THEN\u000d\u000a\u0009\u0009MyMaint.History[0].Date_Request := Date_Warning;\u000d\u000aEND_IF;\u000d\u000aMyMaint.History[0].Date_Done := Date_Done;\u000d\u000aMyMaint.History[0].t_Missed := SUB_DT_DT(MyMaint.History[0].Date_Done, MyMaint.Info.Date_Next_Maint);","W":882,"X":4},{"__type":"LD","Ix":1,"Var":"MyMaint.Sta.Warning","X":1,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"0"}],"Ix":10,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"maint_step"}],"X":2,"Y":1},{"__type":"ST","Ix":3,"RS":true,"Var":"MyMaint.Cmd.Done","X":1,"Y":2},{"__type":"HL","X":3,"Y":1},{"__type":"HL","X":4,"Y":1},{"__type":"HL","X":2,"Y":2},{"__type":"HL","X":3,"Y":2},{"__type":"HL","X":4,"Y":2}],"CMT":"Confirmation. Keeping to history\u000d\u000a\u000d\u000ain Warning state -> Idle","LRI":12,"RRI":13,"VLs":[{"Ix":14,"X":1},{"Ix":14,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Var":"MyMaint.Cmd.ResetCounter"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"0"}],"Ix":4,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"MyMaint.Info.Counter_warning"}],"X":1},{"__type":"ST","Ix":1,"RS":true,"Var":"MyMaint.Cmd.ResetCounter","X":1,"Y":1}],"CMT":"Counter reset","LRI":5,"RRI":6,"VLs":[{"Ix":7,"X":1}]}
{"CLs":[{"__type":"LD","Var":"Enabled"},{"__type":"LD","Dwn":true,"Id":"c6d215f1-4e21-4d46-9a83-2de900000086","Ix":1,"Var":"Enabled","Y":1},{"__type":"ST","Ix":2,"Var":"ENO","X":1}],"LI":3,"LRI":4,"Label":"EndFB","RRI":5,"VLs":[{"Ix":6,"X":1}]}
