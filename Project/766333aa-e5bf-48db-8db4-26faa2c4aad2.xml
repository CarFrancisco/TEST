{"CLs":[{"__type":"LD","Var":"Update"},{"__type":"LD","Ix":1,"Var":"Commissioning","X":1},{"__type":"LD","Ix":2,"Var":"Run","X":1,"Y":1},{"__type":"ST","Ix":3,"Var":"Run","X":2}],"CMT":"_____________________________________________________________________________________________________\u000a¦ Enabled                                                                                                                                              ¦\u000a¦______________________________________________________________________________________________________ ¦\u000d\u000a\u000d\u000aRun","LRI":4,"RRI":5,"VLs":[{"Ix":6,"X":1},{"Ix":7,"X":2}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#0"}],"Ix":6,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"LD","Id":"7ea4440b-9ec3-4c76-948e-03c60000000b","Up":true,"Var":"Run","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"USINT#10"}],"Ix":5,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"MyStep"}],"X":2}],"CMT":"_______________________________________________________________________________________________________\u000a¦   Sequence                                                                                                                                        ¦\u000a¦______________________________________________________________________________________________________¦\u000d\u000a\u000d\u000a000: Wait to start the sequence","LRI":7,"RRI":8,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#10"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"28c2526f-4488-48c0-812d-b7749efb1bb2","H":234,"Ix":3,"TXT":"\/\/ Get drive node adresse\u000d\u000aNodeAdr := Axis.Cfg.NodeAddress;\u000d\u000a\u000d\u000a\/\/ Select SDO object\u000d\u000aSdoObj.Index := UINT#16#3000;\u000d\u000aSdoObj.Subindex := USINT#01;\u000d\u000aSdoObj.IsCompleteAccess := FALSE;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aMyStep := USINT#20;","W":543,"X":1}],"CMT":"010: Set parameter to read the current direction","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#20"}],"Ix":19,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":6,"Type":"UINT","Var":"NodeAdr"},{"__type":"PRM","Arg":"SdoObj","Ix":7,"Type":"_sSDO_ACCESS","Var":"SdoObj"},{"__type":"PRM","Arg":"TimeOut","Ix":8,"Type":"UINT","Var":""},{"__type":"PRM","Arg":"ReadDat","IO":true,"Ix":9,"Type":"ANY","Var":"Datas"}],"Ix":18,"Name":"EC_CoESDORead","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":10,"Type":"BOOL","Var":"Read_B"},{"__type":"PRM","Arg":"Error","Ix":11,"Type":"BOOL","Var":"Read_E"},{"__type":"PRM","Arg":"ErrorID","Ix":12,"Type":"WORD","Var":"Read_ID"},{"__type":"PRM","Arg":"ReadDat","IO":true,"Ix":13,"Type":"ANY","Var":"Datas"},{"__type":"PRM","Arg":"AbortCode","Ix":14,"Type":"DWORD","Var":"Read_AC"},{"__type":"PRM","Arg":"ReadSize","Ix":15,"Type":"UINT","Var":"Read_Size"}],"X":1,"Var":"ReadParameter"},{"__type":"LD","Not":true,"Var":"Read_E","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"USINT#30"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"MyStep"}],"X":3},{"__type":"LD","Ix":1,"Var":"Read_E","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":16,"Type":"ANY","Var":"USINT#240"}],"Ix":21,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":17,"Type":"ANY","Var":"MyStep"}],"X":3,"Y":1}],"CMT":"020: Read the current direction","LRI":22,"RRI":23,"VLs":[{"Ix":24,"X":2}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#30"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"eb0f5b11-6753-4964-9559-9b335983e52d","H":300,"Ix":3,"TXT":"\/\/ Get current direction\u000d\u000aIF Datas = ULINT#1 THEN\u000d\u000a\u0009CurrentDirection := TRUE;\u000d\u000aELSE\u000d\u000a\u0009CurrentDirection := FALSE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Check if an update is usefull\u000d\u000aIF Direction = CurrentDirection THEN\u000d\u000a\u0009MyStep := 250;\u000d\u000aELSE\u000d\u000a\u0009MyStep := 50;\u000d\u000aEND_IF;","W":636,"X":1}],"CMT":"030: Check if parameter are correct","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#50"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"309a3216-b5b6-4d3f-859c-f54a25618c3f","H":368.99999999999989,"Ix":3,"TXT":"\/\/ Get drive node adresse\u000d\u000aNodeAdr := Axis.Cfg.NodeAddress;\u000d\u000a\u000d\u000a\/\/ Select SDO object\u000d\u000aSdoObj.Index := UINT#16#3000;\u000d\u000aSdoObj.Subindex := USINT#01;\u000d\u000aSdoObj.IsCompleteAccess := FALSE;\u000d\u000a\u000d\u000a\/\/ Set datas\u000d\u000aIF Direction  THEN\u000d\u000a\u0009Datas := ULINT#1;\u000d\u000aELSE\u000d\u000a\u0009Datas := ULINT#0;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aMyStep := USINT#60;","W":616,"X":1}],"CMT":"050: Set parameter to write the new direction","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#60"}],"Ix":19,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":7,"Type":"UINT","Var":"NodeAdr"},{"__type":"PRM","Arg":"SdoObj","Ix":8,"Type":"_sSDO_ACCESS","Var":"SdoObj"},{"__type":"PRM","Arg":"TimeOut","Ix":9,"Type":"UINT","Var":""},{"__type":"PRM","Arg":"WriteDat","Ix":10,"Type":"ANY","Var":"Datas"},{"__type":"PRM","Arg":"WriteSize","Ix":11,"Type":"UINT","Var":"4"}],"Ix":18,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":12,"Type":"BOOL","Var":"Write_B"},{"__type":"PRM","Arg":"Error","Ix":13,"Type":"BOOL","Var":"Write_E"},{"__type":"PRM","Arg":"ErrorID","Ix":14,"Type":"WORD","Var":"Write_ID"},{"__type":"PRM","Arg":"AbortCode","Ix":15,"Type":"DWORD","Var":"Write_AC"}],"X":1,"Var":"WriteParameter"},{"__type":"LD","Ix":2,"Not":true,"Var":"Pause","X":2},{"__type":"LD","Not":true,"Var":"Write_E","X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":5,"Type":"ANY","Var":"USINT#100"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":6,"Type":"ANY","Var":"MyStep"}],"X":4},{"__type":"LD","Ix":1,"Var":"Write_E","X":3,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":16,"Type":"ANY","Var":"USINT#241"}],"Ix":21,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":17,"Type":"ANY","Var":"MyStep"}],"X":4,"Y":1}],"CMT":"060: Write the new direction","LRI":22,"RRI":23,"VLs":[{"Ix":24,"X":3}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#100"}],"Ix":2,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"IST","EID":"ca5e436e-8336-4dee-80fe-d5359df8a306","H":212.99999999999989,"Ix":3,"TXT":"\/\/ Select index\u000d\u000aSdoObj.Index := UINT#16#1010;\u000d\u000aSdoObj.Subindex := USINT#01;\u000d\u000aSdoObj.IsCompleteAccess := FALSE;\u000d\u000a\u000d\u000a\/\/ Write datas (Save en HEX)\u000d\u000aDatas:= 16#65766173;\u000d\u000a\u000d\u000a\/\/ Go to next step\u000d\u000aMyStep := USINT#110;","W":538,"X":1}],"CMT":"100: Set parameter to save drives parametes","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#110"}],"Ix":18,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":8,"Type":"UINT","Var":"NodeAdr"},{"__type":"PRM","Arg":"SdoObj","Ix":9,"Type":"_sSDO_ACCESS","Var":"SdoObj"},{"__type":"PRM","Arg":"TimeOut","Ix":10,"Type":"UINT","Var":""},{"__type":"PRM","Arg":"WriteDat","Ix":11,"Type":"ANY","Var":"Datas"},{"__type":"PRM","Arg":"WriteSize","Ix":12,"Type":"UINT","Var":"4"}],"Ix":17,"Name":"EC_CoESDOWrite","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":13,"Type":"BOOL","Var":"Save_B"},{"__type":"PRM","Arg":"Error","Ix":14,"Type":"BOOL","Var":"Save_E"},{"__type":"PRM","Arg":"ErrorID","Ix":15,"Type":"WORD","Var":"Save_ID"},{"__type":"PRM","Arg":"AbortCode","Ix":16,"Type":"DWORD","Var":"Save_AC"}],"X":1,"Var":"SaveParameter"},{"__type":"LD","Not":true,"Var":"Save_E","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"USINT#150"}],"Ix":19,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"MyStep"}],"X":3},{"__type":"LD","Ix":1,"Var":"Save_E","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"USINT#242"}],"Ix":20,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"MyStep"}],"X":3,"Y":1}],"CMT":"110: Write the save parameters order","LRI":21,"RRI":22,"VLs":[{"Ix":23,"X":2}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#150"}],"Ix":15,"Name":"=","Out":[{"__type":"PF","Arg":""}],"PL":true},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":8,"Type":"UINT","Var":"NodeAdr"},{"__type":"PRM","Arg":"TimeOut","Ix":9,"Type":"UINT","Var":""}],"Ix":14,"Name":"\\\\OmronLib\\EC_1S\\Restart_1S","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":11,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":12,"Type":"WORD","Var":""},{"__type":"PRM","Arg":"ErrorIDEx","Ix":13,"Type":"DWORD","Var":""}],"UD":true,"X":1,"Var":"Restart_Drive"},{"__type":"LD","Not":true,"Var":"Restart_E","X":2},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"USINT#250"}],"Ix":16,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"MyStep"}],"X":3},{"__type":"LD","Ix":1,"Var":"Restart_E","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":6,"Type":"ANY","Var":"USINT#243"}],"Ix":17,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":7,"Type":"ANY","Var":"MyStep"}],"X":3,"Y":1}],"CMT":"150: Restart the drive to apply the parameter","LRI":18,"RRI":19,"VLs":[{"Ix":20,"X":2}]}
{"CLs":[{"__type":"LD","Var":"Run"},{"__type":"ST","Ix":1,"Var":"Busy","X":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":4,"Type":"ANY_ELEMENTARY, ENUM","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":5,"Type":"ANY_ELEMENTARY, ENUM","Var":"USINT#250"}],"Ix":10,"Name":"=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":1,"PL":true},{"__type":"ST","Ix":2,"Var":"Done","X":2,"Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"USINT#240"}],"Ix":11,"Name":">=","Out":[{"__type":"PF","Arg":""}],"X":1,"Y":2,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":8,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"MyStep"},{"__type":"PRM","Arg":"In2","Ix":9,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"USINT#250"}],"Ix":12,"Name":"<","Out":[{"__type":"PF","Arg":""}],"X":2,"Y":2,"PL":true},{"__type":"ST","Ix":3,"Var":"Error","X":3,"Y":2},{"__type":"HL","X":2},{"__type":"HL","X":3},{"__type":"HL","X":3,"Y":1}],"CMT":"_____________________________________________________________________________________________________\u000a¦ Status                                                                                                                                                 ¦\u000a¦______________________________________________________________________________________________________ ¦\u000d\u000a","LRI":13,"RRI":14,"VLs":[{"Ix":15,"X":1},{"Ix":15,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Dwn":true,"Id":"7ea4440b-9ec3-4c76-948e-03c6000000a3","Var":"Run"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"USINT#0"}],"Ix":3,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"MyStep"}],"X":1}],"CMT":"_______________________________________________________________________________________________________\u000a¦  Reset FB                                                                                                                                           ¦\u000a¦______________________________________________________________________________________________________¦\u000d\u000a","LRI":4,"RRI":5,"VLs":[]}
