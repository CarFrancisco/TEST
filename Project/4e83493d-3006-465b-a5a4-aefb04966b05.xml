{"CLs":[{"__type":"LD","Var":"M50_Used"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":1,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PRM","Arg":"Index","Ix":2,"Type":"SINT","Var":"0"},{"__type":"PRM","Arg":"Sys_S","Ix":3,"Type":"Sys_S_Structure","Var":"M50_S"},{"__type":"PF","Arg":"Enabled"},{"__type":"PRM","Arg":"Local_ES","Ix":4,"Type":"BOOL","Var":"S_M50_ES"},{"__type":"PRM","Arg":"NetworkFault","Ix":5,"Type":"BOOL","Var":""}],"Ix":8,"Name":"Sysmetric_Config_FINS","Out":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":6,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Sta","Ix":7,"Type":"THE\\STATUS","Var":"M50_Status"}],"UD":true,"X":1,"Var":"Sys_WithFINS"}],"CMT":"In FINS (by broadcast), only the S datas are received in the PLC.\u000d\u000a\u000d\u000aTo link the receiving information with a variable, we juste need to set the At of the variable at the good emplacement :\u000d\u000a- M50: %E0_2152\u000d\u000a- M51: %E0_2500\u000d\u000a- M52: %E0_2660\u000d\u000a\u000d\u000aOn the sysmetric side, you need to select the machine number to let the machine know if witch area the broacast is needed.\u000d\u000aYou have an other selection: On witch extruder the sysmetric is mounted. With this option, the sysmetric will knot at witch\u000d\u000aaddress he need to read the extruder and the line speed.","LRI":9,"RRI":10,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Extruder_Run"},{"__type":"LD","Var":"M50_Used","X":1},{"__type":"IST","EID":"8a61d447-c9b5-461e-bffe-1f6c5619dcbc","H":166,"Ix":14,"TXT":"\/\/ Convert extruder speed in 0..4000\u000d\u000aSpeed_Analog := Speed_Cmd * 4000 \/ Speed_Max;\u000d\u000aM40.S.Extruder_Analog := REAL_TO_INT(Speed_Analog);\u000d\u000a\u000d\u000a\/\/ Convert sysmetric speed in overspeed\u000d\u000aOverspeed := (M50_S.Extruder_Speed - Speed_Analog) \/ Speed_Analog * 100;","W":824,"X":2},{"__type":"FB","In":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":2,"Type":"THE\\INVERTER","Var":"Inv_M40_Motor"},{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"Velocity","Ix":3,"Type":"REAL","Var":"Speed_Cmd"},{"__type":"PRM","Arg":"Reverse","Ix":4,"Type":"BOOL","Var":"true"},{"__type":"PRM","Arg":"Overspeed_Used","Ix":5,"Type":"BOOL","Var":"M50_S.Sta.Automatique"},{"__type":"PRM","Arg":"Overspeed","Ix":6,"Type":"REAL","Var":"Overspeed"},{"__type":"PRM","Arg":"Overspeed_LimitMin","Ix":7,"Type":"REAL","Var":"-20"},{"__type":"PRM","Arg":"Overspeed_LimitMax","Ix":8,"Type":"REAL","Var":"20"},{"__type":"PRM","Arg":"Ramp_Used","Ix":9,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"RampTime","Ix":10,"Type":"TIME","Var":""}],"Ix":13,"Name":"Inverter_MoveVelocity","Out":[{"__type":"PRM","Arg":"Axis","IO":true,"Ix":11,"Type":"THE\\INVERTER","Var":"Inv_M40_Motor"},{"__type":"PF","Arg":"InVelocity"},{"__type":"PRM","Arg":"Actual_Speed","Ix":12,"Type":"REAL","Var":"M40.S.Extruder_Speed"}],"UD":true,"X":1,"Y":1,"Var":"Motor_Extruder"},{"__type":"HL","X":2,"Y":1}],"CMT":"But the new command speed of the extruder in close loop is not done. You need to take this information in the calculation \u000d\u000ain the extruder task!\u000d\u000a\u000d\u000aExample - Task \"M40\" - \"Rung Motor\":\u000d\u000aCompute speed in 0..4000 and overspeed when sysmetric run","LRI":15,"RRI":16,"VLs":[{"Ix":17,"X":1}]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":1,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PRM","Arg":"Index","Ix":2,"Type":"SINT","Var":"1"},{"__type":"PRM","Arg":"Sysmetric_S","IO":true,"Ix":3,"Type":"Sys_S_Structure","Var":"M51_S"},{"__type":"PRM","Arg":"Sysmetric_R","IO":true,"Ix":4,"Type":"Sys_R_Structure","Var":"M51_R"},{"__type":"PF","Arg":"Enabled"},{"__type":"PRM","Arg":"Local_ES","Ix":5,"Type":"BOOL","Var":"S_M50_ES"},{"__type":"PRM","Arg":"NetworkFault","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Extruder","IO":true,"Ix":7,"Type":"EXU_Machines","Var":"M40"},{"__type":"PRM","Arg":"Line_Speed","Ix":8,"Type":"REAL","Var":"LineSpeed"}],"Ix":14,"Name":"Sysmetric_Config_EIP","Out":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":9,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Sysmetric_S","IO":true,"Ix":10,"Type":"Sys_S_Structure","Var":"M51_S"},{"__type":"PRM","Arg":"Sysmetric_R","IO":true,"Ix":11,"Type":"Sys_R_Structure","Var":"M51_R"},{"__type":"PRM","Arg":"Sta","Ix":12,"Type":"THE\\STATUS","Var":"M51_Status"},{"__type":"PRM","Arg":"Extruder","IO":true,"Ix":13,"Type":"EXU_Machines","Var":"M40"}],"UD":true,"X":1,"Var":"Sys_WithEIP"}],"CMT":"In EIP, the PLC have the S and R datas.\u000d\u000a\u000d\u000aBecause of this, we can send datas directely to the sysmetric, like extruder and line speed. In this mode, no parameter change\u000d\u000aare needed in sysmetric side.\u000d\u000a\u000d\u000aFor the close loop setpoint, the computation is already done in the FB, you juste need to use the variable \"M40.S.Extruder_Overspeed\"\u000d\u000ain the \"Inverter_MoveVelocity\".","LRI":15,"RRI":16,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"P_On"},{"__type":"FB","In":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":1,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PF","Arg":"Enabled"}],"Ix":3,"Name":"Sysmetric_Overall","Out":[{"__type":"PRM","Arg":"Mgr","IO":true,"Ix":2,"Type":"THE\\Sysmetric","Var":"SYS"},{"__type":"PF","Arg":"ENO"}],"UD":true,"X":1,"Var":"SysManager"}],"CMT":"On every \"Sysmetric_Config_xxx\", you have an input for a manager with an index.\u000d\u000aYou need to fixe one differant index for every sysmetric, and the configuration will put in the manager differentes values (between 0 and 5).\u000d\u000a\u000d\u000aAnd the \"Sysmetric_Overall\" will sum every datas of each sysmetric to give you a global consumption and weight.","LRI":4,"RRI":5,"VLs":[]}
